# Configuração Nixpacks para Railway
# Build múltiplo: trellis-chart, boxplot-chart e charts-router

[phases.setup]
nixPkgs = ["nodejs_18", "npm-9_x"]

[phases.install]
cmds = [
  "cd ../trellis-chart && npm install",
  "cd ../boxplot-chart && npm install",
  "cd ../charts-router && npm install"
]

[phases.build]
cmds = [
  "cd ../trellis-chart && npm run build",
  "cd ../boxplot-chart && npm run build",
  "cd ../charts-router && npm run build"
]

[start]
cmd = "cd charts-router && npm start"

